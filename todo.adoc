= Todo

== doing

 * apply config changes

== next up

* check jail config is specified before starting
* tests for main
* fail on unknown config options

== backlog

=== First release

* run
  * in chroot
  * in jail
* freebsd-update jail
* provision jail
  * shell script
  * puppet
* config includes or conf.d style include
* confirmation before deleting all jails (and -f to force)
* move cmd::run to utils::run

=== Later

* parallel operation (create/upgrade etc)
  * need to resurrect ordering

== Done:

* jail
  * start/stop
  * enable/disable
* create jail.conf
* logger
* cli args
* read config from a toml file
* zfs
  * refactor zfs into a struct
  * set zfs mountpoint: zfs set mountpoint=/jails zroot/jails
  * zfs snapshot method
  * zfs clone method
* try testing commands with mockall

== What makes a jail?

* zfs data set
* jails.conf config entry
* provisioned config (configuration puppet or whatever)
* processes
* network socket
* rc service

* think about config versioning!

== Config layout

/usr/local/etc/rj.conf
/usr/local/etc/rj.conf.d/

== CLI interface

bring up new jails

----
rj create <jailname>
----

upgrade jail
 * stop jail
 * freebsd-update
 * start jail
 * optional release flag

----
rj upgrade <jailname> -r <release>
----

show outdated jails
 * compare to the release in config file
 * lookup the latest patch release
   * or just run freebsd-update to see if anything is outstanding

----
rj outdated
----

----
rj rm <jailname>
----

reserved for bundled config?

----
rj apply
----
