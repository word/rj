= Todo

== doing:

* cli args

== next up:

* logger


== backlog:

* read config from a toml file
* run
  * in chroot
  * in jail
* freebsd-update jail
* provision jail
  * shell script
  * puppet
* jail
  * create
  * maintain jail.conf
  * start
  * stop

== missing tests:
  * cmd function
  * fetch extract function

== Done:

* zfs
  * refactor zfs into a struct
  * set zfs mountpoint: zfs set mountpoint=/jails zroot/jails
  * zfs snapshot method
  * zfs clone method
* try testing commands with mockall

== What makes a jail?

* zfs data set
* jails.conf config entry
* provisioned config (configuration puppet or whatever)
* processes
* network socket
* rc service

* think about config versioning!

== Config layout

/usr/local/etc/rj.conf
/usr/local/etc/rj.conf.d/

== CLI interface

set up base and pre-reqisites:

----
rj init
----

bring up new jails
config updates trigger restart

remove old jails
 * issue: tracking state? (avoid)
 * warn about orphaned jails
 * have a purge flag

----
rj apply <jailname>
----

preview changes
 * show config diff
 * show if jail would be restarted

----
rj plan <jailname>
----

upgrade jail
 * stop jail
 * freebsd-update
 * start jail
 * optional release flag

----
rj upgrade <jailname> -r <release>
----

show outdated jails
 * compare to the release in config file
 * lookup the latest patch release
   * or just run freebsd-update to see if anything is outstanding

----
rj outdated
----
